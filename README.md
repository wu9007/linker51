# Linker51 机械臂
本实验项目主要实现机械臂的单目视觉定位功能，通过图像识别确定目标物体并将其坐标同步至机器人坐标系，实现目标抓取。

## 实验硬件清单
> 总成本 ￥139
- 执行器：
    - 底座舵机：MG996R（大扭矩，负责水平旋转）￥12
    - 肩部舵机：MG90S（金属齿轮，负责大臂升降） ￥10
    - 轴部舵机：SG90（轻量化，负责末端/小臂） ￥5
- 主体结构：矿泉水瓶 ×3（用于搭建支撑杆与机械臂连杆）
- 控制核心：普中A2单片机（51内核）￥68
- 视觉与计算：
    - 单目摄像头（全局视野俯拍）￥26
- 电脑：Windows / Mac
- 供电系统：
    - 充电宝（作为独立动力源） 
    - 电源线：USB 剪线（红正黑负，接入面包板公用正负极，实现与开发板共地）
- 连接件：
  - 面包板 ￥6
  - 数据线
  - 杜邦线（公对公 ￥7，公对母 ￥5）

## 软件部署
### 第一步：烧录固件
- 使用STC-ISP等烧录软件
- 将main.c编译生成的HEX文件烧录到普中A2单片机

> 说明：程序启用了10μs高精度定时器，用于生成平滑的PWM信号

### 第二步：配置Python环境
确保已安装Python 3，然后执行：

```bash
pip install -r requirements.txt
```
### 第三步：配置文件调整
编辑config.py文件，根据实际情况修改以下参数：
- SERIAL_PORT：设置串口号（Windows: "COM3"，Mac: "/dev/tty.usbserial-xxx"）
- 物理尺寸：填入实际测量的机械臂臂长

### 第四步：标定数据检查
确保以下文件存在于calibrate_data/文件夹： 
- camera_params.npz（相机内参） 
- hand_eye_matrix.npy（手眼标定矩阵）

## 运行项目
在终端执行以下命令启动程序：

```bash
python main.py
```
## 功能特点
- 实时识别：自动识别摄像头画面中的黄色小球
- 智能追踪：机械臂自动跟随小球运动
- 运动平滑：采用临界阻尼算法，消除视觉跳变导致的抖动
- 自然响应：机械臂运动流畅自然
